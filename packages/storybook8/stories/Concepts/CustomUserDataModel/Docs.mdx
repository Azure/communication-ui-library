import { Meta } from '@storybook/addon-docs';

<Meta title="Concepts/Custom User Data Model" />

# Custom User Data Model

Azure Communication Services uses an identity agnostic model where developers can [bring their own identities](https://docs.microsoft.com/azure/communication-services/concepts/identity-model).
Developers can bring their own data model and link it to Azure Communication Services identities.
A developers data model for a user most likely includes information such as their display name, profile picture or avatar and other details. Information used by developers to power their own applications and platforms.
The UI Library makes it simple for developers to inject that user data model into the UI Components, so that when rendered they show a users provided information rather than generic information that Azure Communication Services has.
UI Library enables these capabilities for both UI Components and Composites. Below, we will introduce the patterns to customize user data model for both types of components.

## UI Components

For UI Components, user data model can be customized for each individual component.
This provides developers the most flexibility when building truly custom experiences that might expose and reflect different parts of a users persona.
User data model injection is available for those components that expose user information, particularly their display name and their avatar.
Below you will find a table with the components that support injection and the pattern/method used to inject information.

| UI Components                                                       | Display Name                                       | Avatar         |
| ------------------------------------------------------------------- | -------------------------------------------------- | -------------- |
| [Video Tile](./?path=/docs/components-video-tile--docs)             | displayName                                        | placeholder    |
| [Video Gallery](./?path=/docs/components-video-gallery--docs)       | onRenderRemoteVideoTile and onRenderLocalVideoTile | onRenderAvatar |
| [Message Thread](./?path=/docs/components-message-thread--docs)     | onRenderMessage                                    | onRenderAvatar |
| [Typing Indicator](./?path=/docs/components-typing-indicator--docs) | onRenderUsers                                      | onRenderUsers  |
| [Participant Item](./?path=/docs/components-participant-item--docs) | displayName                                        | onRenderAvatar |
| [Participant List](./?path=/docs/components-participant-list--docs) | onRenderParticipant                                | onRenderAvatar |

For additional examples on how this user data model injection pattern works, visit the individual component pages for each component.

## Composites

For Composites, user data model can be customized at a composite level.
As turn-key experience, developers can provide a single data model mapping to the composite and the composite takes care of rendering the correct information for a user.
Composites support user data model injection for display name and avatar across both chat and calling composites.

| Composite                                                                             | Display Name                                                                        | Avatar                                                                                                                   |
| ------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| [CallComposite](./?path=/story/composites-callcomposite-basic-example--basic-example) | [displayName](./?path=/story/composites-callcomposite-basic-example--basic-example) | [onFetchAvatarPersonaData](./?path=/story/composites-callcomposite-custom-data-model-example--custom-data-model-example) |
| [ChatComposite](./?path=/story/composites-chatcomposite-basic-example--basic-example) | [displayName](./?path=/story/composites-chatcomposite-basic-example--basic-example) | [onFetchAvatarPersonaData](./?path=/story/composites-chatcomposite-custom-data-model-example--custom-data-model-example) |

For additional examples on how this user data model injection pattern works, visit the individual composite pages.
