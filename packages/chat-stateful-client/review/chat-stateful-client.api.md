## API Report File for "chat-stateful-client"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ChatClient } from '@azure/communication-chat';
import { ChatClientOptions } from '@azure/communication-chat';
import { ChatMessage } from '@azure/communication-chat';
import { ChatMessageReadReceipt } from '@azure/communication-chat';
import { ChatParticipant } from '@azure/communication-chat';
import { ChatThreadClient } from '@azure/communication-chat';
import { CommunicationIdentifierKind } from '@azure/communication-common';
import { CommunicationTokenCredential } from '@azure/communication-common';
import { MessageStatus } from 'acs-ui-common';
import { TypingIndicatorReceivedEvent } from '@azure/communication-signaling';

// @public (undocumented)
export type ChatClientState = {
    userId: CommunicationIdentifierKind;
    displayName: string;
    threads: {
        [key: string]: ChatThreadClientState;
    };
    errors: ChatErrors;
};

// @public (undocumented)
export type ChatErrors = {
    [target in ErrorTargets]: Error[];
};

// @public (undocumented)
export type ChatMessageWithStatus = ChatMessage & {
    clientMessageId?: string;
    status: MessageStatus;
};

// @public (undocumented)
export type ChatThreadClientState = {
    chatMessages: {
        [key: string]: ChatMessageWithStatus;
    };
    participants: {
        [key: string]: ChatParticipant;
    };
    threadId: string;
    properties?: ChatThreadProperties;
    readReceipts: ChatMessageReadReceipt[];
    typingIndicators: TypingIndicatorReceivedEvent[];
    latestReadTime: Date;
};

// @public (undocumented)
export type ChatThreadProperties = {
    topic?: string;
};

// @public
export const createStatefulChatClient: (args: StatefulChatClientArgs, options?: StatefulChatClientOptions | undefined) => StatefulChatClient;

// @public (undocumented)
export type ErrorTargets = ObjectMethodNames<'ChatClient', ChatClient> | ObjectMethodNames<'ChatThreadClient', ChatThreadClient>;

// @public (undocumented)
export type MethodName<T, K extends keyof T> = T[K] extends Function ? (K extends string ? K : never) : never;

// @public (undocumented)
export type ObjectMethodNames<TName extends string, T> = {
    [K in keyof T]: `${TName}.${MethodName<T, K>}`;
}[keyof T];

// @public (undocumented)
export interface StatefulChatClient extends ChatClient {
    // (undocumented)
    getState(): ChatClientState;
    // (undocumented)
    offStateChange(handler: (state: ChatClientState) => void): void;
    // (undocumented)
    onStateChange(handler: (state: ChatClientState) => void): void;
}

// @public
export type StatefulChatClientArgs = {
    userId: CommunicationIdentifierKind;
    displayName: string;
    endpoint: string;
    credential: CommunicationTokenCredential;
};

// @public
export type StatefulChatClientOptions = {
    chatClientOptions: ChatClientOptions;
    maxStateChangeListeners?: number;
};


// (No @packageDocumentation comment for this package)

```
